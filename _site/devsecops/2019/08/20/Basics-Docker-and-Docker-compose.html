<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1; minimum-scale=1; user-scalable=no;"> <meta content="If you are new to Docker, this is a quick guide to understand what docker is." name="description"> <meta name="keywords" content="gh-pages,website,blog,easy"> <meta name="author" content="Akshayb"> <meta name="baseurl" content="/blogs"> <title> Akshay Bharambe|Basics of Docker and Docker-compose </title> <!-- favicon --> <link rel="shortcut icon" href="/blogs/static/assets/img/favicon.png"> <!-- Main CSS --> <link href="/blogs/static/assets/app-20180125.min.css" rel="stylesheet"> <link href="/blogs/static/css/custom.css" rel="stylesheet"> <!-- Main Scripts --> <script src="/blogs/static/assets/app-20180125.min.js"></script> <script src="/blogs/static/assets/blog-20180125.min.js"></script> <!-- Google AdSense --> <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script> <script> (adsbygoogle = window.adsbygoogle || []).push({ google_ad_client: "ca-pub-6196184668650108", enable_page_level_ads: true }); </script> </head> <body id="page-top" class="landing-page"> <div class="search-tool" style="position: fixed; top: 0px ; bottom: 0px; left: 0px; right: 0px; opacity: 0.95; background-color: #111111; z-index: 9999; display: none;"> <input type="text" class="form-control search-content" id="search-content" style="position: fixed; top: 60px" placeholder="Search Blog"> <div style="position: fixed; top: 16px; right: 16px; z-index: 9999;"> <img src="/blogs/static/assets/img/search/cb-close.png" id="close-btn"/> </div> </div> <div style="position: fixed; right: 16px; bottom: 20px; z-index: 9999;"> <img src="/blogs/static/assets/img/search/cb-search.png" id="search-btn" title="Double click Ctrl"/> </div> <div class="navbar-wrapper"> <nav class="navbar navbar-default navbar-fixed-top" role="navigation"> <div class="container"> <div class="navbar-header page-scroll"> <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span> </button> <a class="navbar-brand" href="/blogs/">Akshay Bharambe</a> </div> <div id="navbar" class="navbar-collapse collapse"> <ul class="nav navbar-nav navbar-right"> <li><a class="page-scroll" href="/blogsblog/"></a></li> <li> <a class="page-scroll" href="/blogs/blog/">Blogs</a></li> <li> <a class="page-scroll" href="/blogs/devsecops/">DevSecOps</a></li> <li> <a class="page-scroll" href="/blogs/iot/">Iot-IIot</a></li> <li> <a class="page-scroll" href="/blogs/programming/">Programming</a></li> <li> <a class="page-scroll" href="/blogs/others/">Others</a></li> </ul> </div> </div> </nav> </div> <div id="inSlider" class="carousel carousel-fade" data-ride="carousel"> <ol class="carousel-indicators"> <li data-target="#inSlider" data-slide-to="0" class="active"></li> <li data-target="#inSlider" data-slide-to="1"></li> </ol> <div class="carousel-inner" role="listbox"> <div class="item active"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/blogs/static/assets/img/landing/city.jpg);" title="first banner image"> </div> </div> <div class="item"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/blogs/static/assets/img/landing/space-shuttle.jpg);" title="second banner image"></div> </div> <div class="item"> <div class="container"> <div class="carousel-caption"> </div> <div class="carousel-image wow zoomIn"> <!-- <img src="static/img/landing/laptop.png" alt="laptop"/> --> </div> </div> <!-- Set background for slide in css --> <div class="header-back" style="background-image: url(/blogs/static/assets/img/landing/hello.jpg);" title="third banner image"></div> </div> </div> <a class="left carousel-control" href="#inSlider" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span> <span class="sr-only">Previous</span> </a> <a class="right carousel-control" href="#inSlider" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span> <span class="sr-only">Next</span> </a> </div> <div class="wrapper wrapper-content animated fadeInRight article"> <div class="row"> <div class="col-lg-10 col-lg-offset-1"> <div class="ibox"> <div class="ibox-content"> <div class="pull-right"> <a class="btn btn-white btn-xs" href="/blogs/devsecops">Devsecops</a> </div> <div class="text-center article-title"> <span class="text-muted"><i class="fa fa-clock-o"></i> 20 Aug 2019</span> <h1> Basics of Docker and Docker-compose </h1> </div> <p><img src="public/blogimgs/docker.png" alt="Docker" /></p> <hr /> <h3 id="what-is-docker">What is Docker?</h3> <p>Wikipedia defines Docker as</p> <blockquote> <p>an open-source project that automates the deployment of software applications inside containers by providing an additional layer of abstraction and automation of OS-level virtualization on Linux.</p> </blockquote> <p><strong>Docker in Simple Words</strong> : Docker is a container management service. The keywords of Docker are develop, ship and run anywhere. The whole idea of Docker is for developers to easily develop applications, ship them into containers which can then be deployed anywhere. —</p> <h3 id="features-of-docker">Features of Docker</h3> <ul> <li>Reduce the size of development by providing a smaller footprint of the operating system via containers.</li> <li>Deploy Docker containers anywhere, on any physical and virtual machines and even on the cloud.</li> <li>pretty lightweight and easily scalable.</li> <li>Easy and Faster Configuration</li> <li>Increase productivity</li> <li>Application Isolation</li> <li>Swarm</li> <li>Routing Mesh</li> <li> <h2 id="security-management">Security Management</h2> </li> </ul> <h3 id="docker-architecture">Docker Architecture</h3> <p>Docker follows client-server architecture. Its architecture consists mainly three parts.</p> <p>1) <code class="highlighter-rouge">Client</code>: Docker provides Command Line Interface (CLI) tools to client to interact with Docker daemon. Client can build, run and stop application. Client can also interact to Docker_Host remotely.</p> <p>2) <code class="highlighter-rouge">Docker_Host</code>: It contains Containers, Images, and Docker daemon. It provides complete environment to execute and run your application.</p> <p>3) <code class="highlighter-rouge">Registry</code>: It is global repository of images. You can access and use these images to run your application in Docker environment.</p> <p><img src="public/blogimgs/docker-architecture.png" alt="Docker-architecture" /></p> <p>So before we go further, let me clarify some terminology that is used frequently in the Docker ecosystem.</p> <ul> <li><code class="highlighter-rouge">Images</code> - The blueprints of our application which form the basis of containers. In the demo above, we used the docker pull command to download the busybox image.</li> <li><code class="highlighter-rouge">Containers</code> - Created from Docker images and run the actual application. We create a container using docker run which we did using the busybox image that we downloaded. A list of running containers can be seen using the docker ps command.</li> <li><code class="highlighter-rouge">Docker Daemon</code> - The background service running on the host that manages building, running and distributing Docker containers. The daemon is the process that runs in the operating system to which clients talk to.</li> <li><code class="highlighter-rouge">Docker Client</code> - The command line tool that allows the user to interact with the daemon. More generally, there can be other forms of clients too - such as Kitematic which provide a GUI to the users.</li> <li><code class="highlighter-rouge">Docker Hub</code> - A registry of Docker images. You can think of the registry as a directory of all available Docker images. If required, one can host their own Docker registries and can use them for pulling images.</li> <li><code class="highlighter-rouge">Docker Engine</code> - It is used for building Docker images and creating Docker containers.</li> <li><code class="highlighter-rouge">Docker Compose</code> - This is used to define applications using multiple Docker containers.</li> </ul> <hr /> <h3 id="why-use-docker-containers-">Why use Docker Containers ?</h3> <blockquote> <p>Containers offer a logical packaging mechanism in which applications can be abstracted from the environment in which they actually run. This decoupling allows container-based applications to be deployed easily and consistently, regardless of whether the target environment is a private data center, the public cloud, or even a developer’s personal laptop. This gives developers the ability to create predictable environments that are isolated from rest of the applications and can be run anywhere.</p> </blockquote> <p><strong>Virtual Machine vs Docker Containers</strong></p> <p>The industry standard today is to use Virtual Machines (VMs) to run software applications. VMs run applications inside a guest Operating System, which runs on virtual hardware powered by the server’s host OS.</p> <p>VMs are great at providing full process isolation for applications: there are very few ways a problem in the host operating system can affect the software running in the guest operating system, and vice-versa. But this isolation comes at great cost — the computational overhead spent virtualizing hardware for a guest OS to use is substantial.</p> <p>Containers take a different approach: by leveraging the low-level mechanics of the host operating system, containers provide most of the isolation of virtual machines at a fraction of the computing power.</p> <blockquote> <p>In Docker, ControlGroup or CGroup is linux kernel feature that allows user to chop and isolate vital kernel resources so it can be accessed by specific set of processes. Thus creating a abstraction layer at kernel level. Such an isolation is know and containerisation.</p> </blockquote> <p><strong>Three key differneces between both</strong></p> <ol> <li> <p>VM is the entire copy of the operating system while the container will have minimal resources(less memory, less disk space, less usage of CPU) that are required to run a service. Therefore we can have many more containers running on a host machine than VMs.</p> </li> <li> <p>Containers also tend to run faster than the VM, and they tend to boot a lot faster than VM.</p> </li> <li> <p>Since containers are lightweight and fast, it’s quicker to create new instances to meet the demand.</p> </li> </ol> <hr /> <h2 id="docker-networking-and-volumes">Docker Networking and Volumes</h2> <p>Another two features that made docker so powerful are isolated communication and managing data and its persistence using Docker networking and Docker volumes.</p> <p><strong>Docker Newtworking</strong></p> <p>Docker takes care of the networking aspects so that the containers can communicate with other containers and also with the Docker Host. If you do an ifconfig on the Docker Host, you will see the Docker Ethernet adapter. This adapter is created when Docker is installed on the Docker Host.</p> <p>Docker’s networking subsystem is pluggable, using drivers. Several drivers exist by default, and provide core networking functionality:</p> <ul> <li>User-defined bridge networks are best when you need multiple containers to communicate on the same Docker host.</li> <li>Host networks are best when the network stack should not be isolated from the Docker host, but you want other aspects of the container to be isolated.</li> <li>Overlay networks are best when you need containers running on different Docker hosts to communicate, or when multiple applications work together using swarm services.</li> <li>Macvlan networks are best when you are migrating from a VM setup or need your containers to look like physical hosts on your network, each with a unique MAC address.</li> <li>Third-party network plugins allow you to integrate Docker with specialized network stacks.</li> </ul> <p><strong>Docker Volumes</strong></p> <p>Volumes are the preferred mechanism for persisting data generated by and used by Docker containers. While bind mounts are dependent on the directory structure of the host machine, volumes are completely managed by Docker. Volumes have several advantages over bind mounts:</p> <ul> <li>Volumes are easier to back up or migrate than bind mounts.</li> <li>You can manage volumes using Docker CLI commands or the Docker API.</li> <li>Volumes work on both Linux and Windows containers.</li> <li>Volumes can be more safely shared among multiple containers.</li> <li>Volume drivers let you store volumes on remote hosts or cloud providers, to encrypt the contents of volumes, or to add other functionality.</li> <li>New volumes can have their content pre-populated by a container.</li> </ul> <p>In addition, volumes are often a better choice than persisting data in a container’s writable layer, because a volume does not increase the size of the containers using it, and the volume’s contents exist outside the lifecycle of a given container.</p> <hr /> <h2 id="docker-compose">Docker Compose</h2> <p>Compose is a tool for defining and running multi-container Docker applications. With Compose, you use a Compose file to configure your application’s services. Then, using a single command, you create and start all the services from your configuration. To learn more about all the features of Compose see the list of features.</p> <blockquote> <p>Compose is great for development, testing, and staging environments, as well as CI workflows. You can learn more about each case in Common Use Cases.</p> </blockquote> <p>Using Compose is basically a three-step process.</p> <ol> <li>Define your app’s environment with a Dockerfile so it can be reproduced anywhere.</li> <li>Define the services that make up your app in docker-compose.yml so they can be run together in an isolated environment.</li> <li>Lastly, run docker-compose up and Compose will start and run your entire app.</li> </ol> <p>A docker-compose.yml looks like this:</p> <div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>version: '2'

services:
  web:
    build: .
    ports:
     - "5000:5000"
    volumes:
     - .:/code
  redis:
    image: redis
</code></pre></div></div> <hr /> <p>That’s it. Enjoy Dockering!</p> <hr> <div class="row"> <div class="col-md-6"> <h5 style="display: inline;">Tags:</h5> <button class="btn btn-white btn-xs" type="button">Docker</button> </div> <div class="col-md-6"> <div class="small text-right"> <div> </div> </div> </div> </div> <br> <div class="row"> <div class="col-lg-12"> <!-- donate --> <br> <!-- share --> <div class="a2a_kit a2a_kit_size_32 a2a_default_style"> <a class="a2a_dd" href="https://www.addtoany.com/share"></a> <a class="a2a_button_facebook"></a> <a class="a2a_button_twitter"></a> <a class="a2a_button_google_plus"></a> <a class="a2a_button_linkedin"></a> <a class="a2a_button_email"></a> <a class="a2a_button_wechat"></a> <a class="a2a_button_sina_weibo"></a> <a class="a2a_button_pocket"></a> </div> <script> var a2a_config = a2a_config || {}; a2a_config.color_main = "D7E5ED"; a2a_config.color_border = "AECADB"; a2a_config.color_link_text = "333333"; a2a_config.color_link_text_hover = "333333"; </script> <script async src="https://static.addtoany.com/menu/page.js"></script> <br> <!-- comment --> </div> </div> </div> </div> </div> </div> </div> <!-- Google analytics --> <!-- GrowingIO --> </body> </html>
